A8254 	EQU 0600H
B8254 	EQU 0602H
C8254 	EQU 0604H
;定时器实验 -- 输入频率1MHz， 输出1s
CON8254 EQU 0606H
SSTACK SEGMENT STACK
	DW 32 DUP(?)
SSTACK ENDS
CODE SEGMENT
	ASSUME CS:CODE, SS:SSTACK
START:
	;设置初始值 -- 1000 ， 先送人低8位， 再送入高8位
	MOV DX, CON8254
	MOV AL, 36H		;计数器0， 方式3 -- 分频器   -- 写入控制字
	OUT DX, AL
	MOV DX, A8254
	MOV AL, 0E8H	;先送人低8位
	OUT DX, AL
	MOV AL, 03H		;再送入高8位
	OUT DX, AL
	MOV DX, CON8254	
	MOV AL, 76H		;计数器1， 方式3 -- 分频器  
	OUT DX, AL
	MOV DX, B8254
	MOV AL, 0E8H
	OUT DX, AL
	MOV AL, 03H
	OUT DX, AL
AA1:JMP AA1
CODE ENDS 
	END START
	